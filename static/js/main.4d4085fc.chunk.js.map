{"version":3,"sources":["redux/messages-reducer.ts","components/common/Proloader/Preloader.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Users/User.module.css","components/NavBar/NavBar.module.css","components/common/FormsControls/FormsControls.jsx","reportWebVitals.js","components/NavBar/NavBar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","api/api.js","redux/auth-reducer.ts","components/Login/Login.jsx","assets/images/loader2.gif","components/common/Proloader/Preloader.jsx","components/Profile/ProfileStatus.tsx","assets/images/extra-large.jpg","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.ts","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.ts","redux/sidebar-reducer.ts","utils/objectHelpers.js","redux/users-reducer.ts","redux/redux-store.ts","components/common/Pagination/Pagination.tsx","components/Users/User.jsx","components/Users/Users.tsx","redux/usersSelectors.ts","components/Users/UsersContainer.tsx","App.js","hoc/withSuspence.jsx","index.js","components/common/FormsControls/FormControls.module.css","utils/validators/validators.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/Pagination/Pagination.module.css","components/Header/Header.module.css"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","messageBody","type","messagesReducer","state","action","body","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","TextArea","props","restProps","Input","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","NavBar","style","navigation","to","item","activeClassName","active","News","Music","Settings","instance","axios","baseURL","withCredentials","headers","userAPI","getUsers","currentPage","pageSize","get","response","data","unfollow","userId","delete","follow","post","profileAPI","status","put","photoFile","formData","FormData","append","profile","authAPI","email","password","rememberMe","captcha","securityAPI","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","login","isFetching","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","dispatch","a","resultCode","getCaptchaUrl","url","authReducer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","validate","required","component","placeholder","src","alt","formSummaryError","connect","auth","length","stopSubmit","_error","Preloader","loader","preloader","ProfileStatus","useState","editMode","setEditMode","setStatus","useEffect","onClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileDataFormReduxForm","Object","keys","contacts","map","key","contact","ProfileData","isOwner","toEditMode","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contact","ProfileInfo","savePhoto","saveProfile","description","photos","large","userPhoto","target","files","initialValues","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","like","getProfileInfo","profileReducer","filter","postId","Post","maxLength","maxLengthCreator","NewReduxPost","MyPosts","postsArray","addPost","MyPostsContainer","profilePage","addPostActionCreator","Profile","ProfileContainer","this","match","params","authorisedUserId","history","push","getStatus","refreshProfile","prevProps","prevState","snapshot","React","Component","compose","withRouter","console","log","file","getState","Promise","reject","Header","logout","header","logo","loginBlock","HeaderContainer","INITIALISED_SUCCESS","initialised","appReducer","sidebarReducer","updateObjectInArray","items","itemID","objPropName","newObjProps","user","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleIsFollowingProgress","_followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","rootReducer","combineReducers","messagesPage","sidebar","usersPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Pagination","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","pageNumber","page","cn","selectedPage","User","small","disabled","some","Users","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getFetching","getFollowingInProgress","UsersContainer","title","bind","totalCount","MessagesContainer","lazy","App","catchAllUnhandledErrors","reason","promise","alert","initialiseApp","addEventListener","removeEventListener","path","render","exact","from","fallback","AppContainer","all","MainApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4d4085fc.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\n\ntype DialogsType = {\n  id: number, name: string\n}\n\ntype MessagesType = {\n  id: number, message: string\n}\n\nlet initialState = {\n  dialogs: [\n    {id: 1, name: 'Bob'},\n    {id: 2, name: 'Ben'},\n    {id: 3, name: 'John'},\n    {id: 4, name: 'Miranda'},\n    {id: 5, name: 'Steven'},\n  ] as Array<DialogsType>,\n  messages: [\n    {id: 1, message: 'hi'},\n    {id: 2, message: 'ku'},\n    {id: 3, message: 'bye'},\n    {id: 4, message: 'good morning'},\n    {id: 5, message: 'tomorrow'},\n  ] as Array<MessagesType>,\n};\n\nexport type InitialStateType = typeof initialState;\n\nconst messagesReducer = (state = initialState, action: SendMessageCreatorActionType): InitialStateType => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      let body = action.messageBody\n      return {\n        ...state,\n        messages: [...state.messages, {id: 6, message: body}],\n      };\n    default:\n      return state;\n  }\n};\n\ntype SendMessageCreatorActionType = {\n  type: typeof SEND_MESSAGE,\n  messageBody: string,\n}\n\nexport const sendMessageCreator = (messageBody: string): SendMessageCreatorActionType => ({type: SEND_MESSAGE, messageBody});\n\nexport default messagesReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__1VGdC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2DL4e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"User_userPhoto__mn1no\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"NavBar_navigation__RKAy2\",\"item\":\"NavBar_item__RHjSW\",\"active\":\"NavBar_active__1y2AN\"};","import React from 'react';\r\nimport styles from './FormControls.module.css'\r\n\r\nconst FormControl = ({input,meta: {touched, error}, children, ...props}) =>{\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error: \"\")} >\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span className={styles.error}>{error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n    const {input,meta,...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input}{...restProps} /></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input,meta,...restProps} = props;\r\n    return <FormControl {...props}><input {...input}{...restProps} /></FormControl>\r\n};\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport style from './NavBar.module.css';\n\nconst NavBar = () => {\n    return (\n        <nav className={style.navigation}>\n            <div>\n                <NavLink to=\"/profile\" className={style.item} activeClassName={style.active}>\n                    Profile\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/messages\" className={style.item} activeClassName={style.active}>\n                    Messages\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/news\" className={style.item} activeClassName={style.active}>\n                    News\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/music\" className={style.item} activeClassName={style.active}>\n                    Music\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/users\" className={style.item} activeClassName={style.active}>\n                    Users\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/settings\" className={style.item} activeClassName={style.active}>\n                    Settings\n                </NavLink>\n            </div>\n        </nav>\n    );\n}\n;\n\nexport default NavBar;\n","import React from 'react';\n// import styles from './Settings.module.css';\n\nconst News = () => {\n  return <section>News</section>;\n};\n\nexport default News;\n","import React from 'react';\n// import styles from './Settings.module.css';\n\nconst Music = () => {\n  return <section>Music</section>;\n};\n\nexport default Music;\n","import React from 'react';\n// import styles from './Settings.module.css';\n\nconst Settings = () => {\n  return <section>Settings</section>;\n};\n\nexport default Settings;\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"80a40969-c576-430a-8d09-c5073671dcfd\"}\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`).then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`, {}).then(response => response.data)\r\n    },\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`).then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put('profile/photo', formData, {headers: {'Content-Type': 'multipart/form-data'}})\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`).then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null ) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`).then(response => response.data);\r\n    },\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    },\r\n}\r\n","import {authAPI, securityAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\nimport {Dispatch} from 'redux';\r\n\r\nconst SET_USER_DATA = 'network/auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET-CAPTCHA-URL-SUCCESS';\r\n\r\ntype InitialStateType = {\r\n  userId: number | null,\r\n  login: string | null,\r\n  email: string | null,\r\n  isFetching: boolean,\r\n  isAuth: boolean,\r\n  captchaUrl: string | null,\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n  userId: null,\r\n  login: null,\r\n  email: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action: any): InitialStateType => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\ntype SetAuthUserDataPayloadType = {\r\n  userId: number | null,\r\n  email: string | null,\r\n  login: string | null,\r\n  isAuth: boolean,\r\n}\r\n\r\ntype ActionsTypes = SetAuthUserDataActionType | GetCaptchaUrlSuccessActionType\r\n\r\ntype SetAuthUserDataActionType = {\r\n  type: typeof SET_USER_DATA,\r\n  payload: SetAuthUserDataPayloadType,\r\n}\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): SetAuthUserDataActionType => ({\r\n  type: SET_USER_DATA,\r\n  payload: {userId, email, login, isAuth}\r\n});\r\n\r\ntype GetCaptchaUrlSuccessActionType = {\r\n  type: typeof GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl: string }\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): GetCaptchaUrlSuccessActionType => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: {captchaUrl}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  let data = await authAPI.me();\r\n  if (data.resultCode === 0) {\r\n    let {id, email, login} = data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\r\n  let response = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n    let error = response.data.messages.length > 0 ? response.data.messages[0] : 'some error';\r\n    dispatch(stopSubmit('login', {_error: error}));\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  let data = await authAPI.logout();\r\n  if (data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from '../common/FormsControls/FormControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field validate={[required]} component={Input} placeholder={\"Email\"} name={\"email\"}/>\r\n            </div>\r\n            <div>\r\n                <Field validate={[required]} component={Input} placeholder={\"Password\"} name={\"password\"} type={\"password\"} />\r\n            </div>\r\n            <div>\r\n                <Field component={\"input\"} name={\"rememberMe\"} type={\"checkbox\"}/> remember me\r\n            </div>\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt=\"\"/>}\r\n            {captchaUrl && <Field component={Input} placeholder={\"Enter captcha\"} name={\"captcha\"}/>}\r\n            {error && <div className={styles.formSummaryError}>{error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","export default __webpack_public_path__ + \"static/media/loader2.83cbdda8.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/loader2.gif\";\r\nimport style from \"./Preloader.module.css\"\r\n\r\nlet Preloader = () => {\r\n    return <div>\r\n        {<img className={style.loader} src={preloader}  alt=\"\"/>}\r\n    </div>\r\n}\r\n\r\nexport default Preloader;\r\n","import React, {useState, useEffect, ChangeEvent} from 'react';\r\n\r\ntype PropsType = {\r\n    status: string,\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatus: React.FC<PropsType> = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    },[props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onClick={activateEditMode}>{props.status || '-----'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} value={status} autoFocus={true} onBlur={deactivateEditMode}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileStatus;\r\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4gIcSUNDX1BST0ZJTEUAAQEAAAIMbGNtcwIQAABtbnRyUkdCIFhZWiAH3AABABkAAwApADlhY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApkZXNjAAAA/AAAAF5jcHJ0AAABXAAAAAt3dHB0AAABaAAAABRia3B0AAABfAAAABRyWFlaAAABkAAAABRnWFlaAAABpAAAABRiWFlaAAABuAAAABRyVFJDAAABzAAAAEBnVFJDAAABzAAAAEBiVFJDAAABzAAAAEBkZXNjAAAAAAAAAANjMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0ZXh0AAAAAElYAABYWVogAAAAAAAA9tYAAQAAAADTLVhZWiAAAAAAAAADFgAAAzMAAAKkWFlaIAAAAAAAAG+iAAA49QAAA5BYWVogAAAAAAAAYpkAALeFAAAY2lhZWiAAAAAAAAAkoAAAD4QAALbPY3VydgAAAAAAAAAaAAAAywHJA2MFkghrC/YQPxVRGzQh8SmQMhg7kkYFUXdd7WtwegWJsZp8rGm/fdPD6TD////bAIQAAgMDAwQDBAUFBAYGBgYGCAgHBwgIDQkKCQoJDRMMDgwMDgwTERQRDxEUER4YFRUYHiMdHB0jKiUlKjUyNUVFXAECAwMDBAMEBQUEBgYGBgYICAcHCAgNCQoJCgkNEwwODAwODBMRFBEPERQRHhgVFRgeIx0cHSMqJSUqNTI1RUVc/8AAEQgAgACAAwEiAAIRAQMRAf/EAGwAAQACAwEBAQAAAAAAAAAAAAAGBwEEBQMCCRAAAgIBAQQIBgMAAAAAAAAAAAECAwUEERIxQSEjUVJhcYGxIjRCYnKRkqHRAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD9mAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFksrKblXTLZHg5Ln5eAEl1OT0lDact6Xdj0nBnn39NH7kQ0ATKGff1UfqR3tNk9Je0lLdl3ZdBV4AugECxuVlBxrultjwUny8/AnoAAAAAAAAAAARrM6p1UKuL2Ss9ivDv5mxy10lyhFI4AAAAAAALDw2qdtDrk9sq/Yrw7+GscddFcpxaAskAAAAAAAAAAVdlPn7/ADXscg7WWi1kLvHY/wCjigAAAAAA6+L+fo837HIO1iYt5Cnw2v8AoCzgAAAAAAAAABCc7Q96u5fjL3RDS4bqYXVThNbVJFWavS26a1wn6Pk0BogAAAABMsFQ96y5/jH3ZG9JpbdTaoQ9XySLTpphTVCEFsUUB7gAAAAAAAAGjqNZpqF1liT7OLA3jWv09N8NyyO1ETvzz4VVesv8RwrMnrp8bmvCPQBoXQULrIrhGTX6PAy22229rZgAe9MFO6uL4Skl+zwMptNNPY0Bb1GnpohuVx2I2Sra8nrocLm/CXSd2jPPhbV6x/xgTUGjp9Zpr11dib7ODN4AAAB8SlGMW20kuLZ9lb5PIPUWOEH1cX/J9oG9rczOTcKPhXf5vyIk222222+ZgAAAAAAAAAAABlNppptNcyW6LMzi1C/4l3+a8yIgC5YyjKKaaafBo+yt8ZkHp7FCb6uT/i+0scDgZjUOrSOKfTY9305lbkvz76yhfbJkQAAAAAAAAAAAAAAAAAFkYfUO3SKLfTW9305FbkvwD6y9fbFgf//Z\"","import React from \"react\";\r\nimport style from './ProfileInfo.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input, TextArea} from \"../../common/FormsControls/FormsControls\";\r\nimport styles from \"../../common/FormsControls/FormControls.module.css\";\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <button>Save </button>\r\n        </div>\r\n        {error && <div className={styles.formSummaryError}>{error}</div>}\r\n        <div><strong>Имя: {<Field  component={Input} placeholder={\"Имя\"} name={\"fullName\"}/>}</strong></div>\r\n        <div><strong>Про меня: {<Field  component={Input} placeholder={\"Про меня\"} name={\"aboutMe\"}/>}</strong></div>\r\n        <div><strong>Ищу работу: {<Field  component={Input} name={\"lookingForAJob\"} type={\"checkbox\"} />}</strong></div>\r\n        <div><strong>Профессиональные навыки {<Field  component={TextArea} placeholder={\"Профессиональные навыки\"} name={\"lookingForAJobDescription\"}/>}</strong></div>\r\n        <div>\r\n            <div><strong>Котакты:</strong></div>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={style.contact}>\r\n                    <strong>{key}: {<Field  component={Input} placeholder={key} name={\"contacts.\" + key}/>}</strong>\r\n                </div>\r\n            })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataFormReduxForm;\r\n\r\n","import React, {useState} from 'react';\r\nimport style from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/Proloader/Preloader\";\r\nimport ProfileStatus from \"../ProfileStatus\";\r\nimport userPhoto from \"../../../assets/images/extra-large.jpg\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = ({savePhoto, saveProfile, profile, status, updateStatus, isOwner}) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(() => {setEditMode(false)})\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={style.description}>\r\n                <img className=\"mainPhoto\"\r\n                     src={profile.photos.large || userPhoto}\r\n                     alt=''/>\r\n                <div>{isOwner && <input type={\"file\"} onChange={onMainPhotoSelected}/>}</div>\r\n                <ProfileStatus status={status} updateStatus={updateStatus}/>\r\n                {editMode ? <ProfileDataForm initialValues={profile} onSubmit={onSubmit} profile={profile}/>\r\n                    : <ProfileData toEditMode={() => {\r\n                        setEditMode(true)\r\n                    }} profile={profile} isOwner={isOwner}/>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ProfileData = ({profile, isOwner, toEditMode}) => {\r\n    return <div>\r\n        {isOwner && <div>\r\n            <button onClick={toEditMode}>Edit</button>\r\n        </div>}\r\n        <p><strong>{profile.fullName}</strong></p>\r\n        <p><strong>Про меня: </strong>{profile.aboutMe}</p>\r\n        <p><strong>Ищу работу: </strong>{profile.lookingForAJob ? \"Да\" : \"Нет\"}</p>\r\n        {profile.lookingForAJob &&\r\n        <p><strong>Какую работу ищу? </strong>{profile.lookingForAJobDescription}</p>\r\n        }\r\n        <div>\r\n            <div><strong>Котакты:</strong></div>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                if (profile.contacts[key]) {\r\n                    return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n                }\r\n                return null\r\n            })}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <p className={style.contact}><strong>{contactTitle}: </strong>{contactValue}</p>\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import {profileAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\nimport {PhotosType, PostType, ProfileType } from '../types/types';\r\nimport {Dispatch} from 'redux';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {AppStateType} from './redux-store';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE-PHOTO-SUCCESS';\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst initialState = {\r\n  posts: [\r\n    {id: 1, message: 'Hi', like: 24},\r\n    {id: 2, message: 'How are you?', like: 12},\r\n    {id: 3, message: 'Whats up?', like: 456},\r\n    {id: 4, message: 'Bye', like: 78},\r\n    {id: 5, message: 'Good', like: 22},\r\n  ] as Array<PostType>,\r\n  profile: null as ProfileType | null,\r\n  status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action: any): InitialStateType => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {id: 6, message: action.post, like: 0,}],\r\n      };\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      }\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      }\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(post => post.id !== action.postId)\r\n      }\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, photos: action.photos} as ProfileType\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\ntype ActionsTypes = AddPostActionType | SetUserProfileActionType | SetStatusActionType | DeletePostType | SavePhotoSuccessType\r\n\r\ntype AddPostActionType = {\r\n  type: typeof ADD_POST,\r\n  post: string\r\n}\r\nexport const addPostActionCreator = (post: string): AddPostActionType => ({type: ADD_POST, post});\r\ntype SetUserProfileActionType = {\r\n  type: typeof SET_USER_PROFILE,\r\n  profile: ProfileType\r\n}\r\nexport const setUserProfile = (profile: ProfileType): SetUserProfileActionType => ({type: SET_USER_PROFILE, profile})\r\ntype SetStatusActionType = {\r\n  type: typeof SET_STATUS,\r\n  status: string | null\r\n}\r\nexport const setStatus = (status: string): SetStatusActionType => ({type: SET_STATUS, status})\r\ntype DeletePostType = {\r\n  type: typeof DELETE_POST,\r\n  postId: number,\r\n}\r\nexport const deletePost = (postId: number): DeletePostType => ({type: DELETE_POST, postId})\r\ntype SavePhotoSuccessType = {\r\n  type: typeof SAVE_PHOTO_SUCCESS,\r\n  photos: PhotosType\r\n}\r\nexport const savePhotoSuccess = (photos: PhotosType): SavePhotoSuccessType => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getProfileInfo = (userId: number) => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  let data = await profileAPI.getProfile(userId)\r\n  dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getStatus = (userId: number) => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  try {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n  } catch (error) {\r\n    console.log(error.status)\r\n  }\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  let response = await profileAPI.updateStatus(status)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status))\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file: any) => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  let response = await profileAPI.savePhoto(file)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos))\r\n  }\r\n}\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes>\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch: any, getState: any) => {\r\n  const userId = getState().auth.userId\r\n  const response = await profileAPI.saveProfile(profile)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getProfileInfo(userId))\r\n  } else {\r\n    dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}));\r\n    return Promise.reject(response.data.messages[0])\r\n  }\r\n}\r\n\r\nexport default profileReducer;\r\n","import React from 'react';\nimport style from './Post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div>\n      <div className={style.item}>\n        <img src=\"https://dadabazar.online/upload/users/user-avatar.png\" alt=\"ava\" />\n        {props.message}\n        <div>\n          <span>{props.like}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from 'react';\nimport Post from './Post/Post';\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\nimport {TextArea} from \"../../common/FormsControls/FormsControls\";\n\nconst maxLength = maxLengthCreator(10)\n\nconst NewPost = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field validate={[required,maxLength]} placeholder={'Enter your post'}\n                       component={TextArea} name={\"post\"}/>\n            </div>\n            <div>\n                <button>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nconst NewReduxPost = reduxForm({form: 'post'})(NewPost)\n\nconst MyPosts = (props) => {\n    const onAddPost = (formData) => {\n        props.addPost(formData.post)\n    }\n    const postsArray = props.posts.map((post) => <Post key={post.id} message={post.message} like={post.like}/>);\n    return (\n        <div>\n            <h2>My Posts</h2>\n            <div>{postsArray}</div>\n            <NewReduxPost onSubmit={onAddPost}/>\n        </div>\n    );\n};\n\nexport default MyPosts;\n","import {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n    };\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (post) => {\n            dispatch(addPostActionCreator(post))\n        },\n    };\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer;\n","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n// import style from './Profile.module.css';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n                         isOwner={props.isOwner}\r\n                         savePhoto={props.savePhoto}\r\n                         saveProfile={props.saveProfile}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfileInfo, getStatus, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile(){\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorisedUserId\r\n            if(!userId){\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getProfileInfo(userId);\r\n        this.props.getStatus(userId);\r\n}\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.match.params.userId !== prevProps.match.params.userId){\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {\r\n    getProfileInfo,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    saveProfile,\r\n}))(ProfileContainer);\r\n\r\n","import React from 'react';\nimport styles from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = ({isAuth, login, logout}) => {\n    return <header className={styles.header}>\n        <img\n            className={styles.logo}\n            src=\"https://placeholder.com/wp-content/uploads/2018/10/placeholder.com-logo1.png\"\n            alt=\"logo\"\n        />\n        <div className={styles.loginBlock}>{isAuth\n            ? <div>{login} <button onClick={logout}>logout</button></div>\n            : <NavLink to={'/login'}>LOGIN</NavLink>}\n        </div>\n    </header>\n};\n\nexport default Header;\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return (<Header {...this.props} />)\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALISED_SUCCESS = 'INITIALISED-SUCCESS';\r\n\r\ntype InitialStateType = {\r\n    initialised: boolean,\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    initialised: false,\r\n};\r\nconst appReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALISED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialised: true,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype InitialisedSuccessActionType = {\r\n    type: typeof INITIALISED_SUCCESS,\r\n}\r\n\r\nexport const initialisedSuccess = (): InitialisedSuccessActionType => ({type: INITIALISED_SUCCESS});\r\n\r\nexport const initialiseApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initialisedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;\r\n","const initialState = {};\n\nexport type InitialStateType = typeof initialState;\n\nconst sidebarReducer = (state = initialState, action: any): InitialStateType => {\n  return state;\n};\n\nexport default sidebarReducer;\n","export const updateObjectInArray = (items, itemID, objPropName, newObjProps) => {\r\n    return items.map(user => {\r\n        if (user[objPropName] === itemID) {\r\n            return {...user, ...newObjProps}\r\n        }\r\n        return user\r\n    })\r\n}\r\n","import {userAPI} from '../api/api';\r\nimport {UserType} from '../types/types';\r\nimport {updateObjectInArray} from '../utils/objectHelpers';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {AppStateType} from './redux-store';\r\nimport {Dispatch} from 'redux';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nconst initialState = {\r\n  users: [] as Array<UserType>,\r\n  pageSize: 20,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [] as Array<number>, // array of users id\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n      };\r\n    case SET_USERS:\r\n      return {...state, users: action.users};\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.currentPage};\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {...state, totalUsersCount: action.count};\r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching};\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching ?\r\n          [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\ntype ActionsTypes = FollowSuccessActionType | UnfollowSuccessActionType | SetUsersActionType |\r\n  SetCurrentPageActionType | SetTotalUsersCountActionType | ToggleIsFetchingActionType |\r\n  ToggleIsFollowingProgressActionType\r\n\r\ntype FollowSuccessActionType = {\r\n  type: typeof FOLLOW,\r\n  userId: number,\r\n}\r\nexport const followSuccess = (userId: number): FollowSuccessActionType => ({type: FOLLOW, userId});\r\n\r\ntype UnfollowSuccessActionType = {\r\n  type: typeof UNFOLLOW,\r\n  userId: number\r\n}\r\nexport const unfollowSuccess = (userId: number): UnfollowSuccessActionType => ({type: UNFOLLOW, userId});\r\n\r\ntype SetUsersActionType = {\r\n  type: typeof SET_USERS,\r\n  users: Array<UserType>,\r\n}\r\nexport const setUsers = (users: Array<UserType>): SetUsersActionType => ({type: SET_USERS, users});\r\n\r\ntype SetCurrentPageActionType = {\r\n  type: typeof SET_CURRENT_PAGE,\r\n  currentPage: number,\r\n}\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageActionType => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage\r\n});\r\n\r\ntype SetTotalUsersCountActionType = {\r\n  type: typeof SET_TOTAL_USERS_COUNT,\r\n  count: number,\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountActionType => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount\r\n});\r\n\r\ntype ToggleIsFetchingActionType = {\r\n  type: typeof TOGGLE_IS_FETCHING,\r\n  isFetching: boolean,\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching\r\n});\r\n\r\ntype ToggleIsFollowingProgressActionType = {\r\n  type: typeof TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching: boolean,\r\n  userId: number\r\n}\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number): ToggleIsFollowingProgressActionType => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n});\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes>\r\n\r\nexport const requestUsers = (page: number, pageSize: number): ThunkType => async (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n  dispatch(setCurrentPage(page));\r\n  let data = await userAPI.getUsers(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst _followUnfollowFlow = async (dispatch: Dispatch<ActionsTypes>, userId: number, apiMethod: any,\r\n                                   actionCreator: (userId: number) => FollowSuccessActionType | UnfollowSuccessActionType) => {\r\n  dispatch(toggleIsFollowingProgress(true, userId));\r\n  let data = await apiMethod(userId)\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleIsFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    let apiMethod = userAPI.follow.bind(userId)\r\n    await _followUnfollowFlow(dispatch, userId, apiMethod, followSuccess)\r\n  }\r\n}\r\n\r\n\r\nexport const unfollow = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    let apiMethod = userAPI.unfollow.bind(userId)\r\n    await _followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess)\r\n  }\r\n}\r\n\r\nexport default usersReducer;\r\n","import {applyMiddleware, combineReducers, createStore, compose} from 'redux';\nimport profileReducer from './profile-reducer';\nimport messagesReducer from './messages-reducer';\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from \"./app-reducer\";\n\nlet rootReducer = combineReducers({\n    profilePage: profileReducer,\n    messagesPage: messagesReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer,\n});\n\ntype RootReducerType = typeof rootReducer;\nexport type AppStateType = ReturnType<RootReducerType>\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer,composeEnhancers(applyMiddleware(thunkMiddleware)\n));\n\nexport default store;\n","import React, {useState} from 'react';\r\nimport styles from './Pagination.module.css';\r\nimport cn from 'classnames'\r\n\r\ntype PropsType = {\r\n  totalItemsCount: number,\r\n  pageSize: number,\r\n  currentPage: number,\r\n  onPageChanged: (page: number) => void,\r\n  portionSize?: number\r\n}\r\n\r\nlet Pagination: React.FC<PropsType> = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages: Array<number> = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n  return <div className={styles.paginator}>{portionNumber > 1 && <button onClick={() => {\r\n    setPortionNumber(portionNumber - 1)\r\n  }}>PREV</button>}\r\n    <span\r\n      className={styles.pageNumber}>{pages.filter((page) => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n      .map(page => {\r\n        return <span className={cn({[styles.selectedPage]: currentPage === page}, styles.pageNumber)}\r\n                     key={page}\r\n                     onClick={() => {\r\n                       onPageChanged(page)\r\n                     }}>{page} </span>\r\n      })}</span>\r\n    {portionCount > portionNumber && <button onClick={() => {\r\n      setPortionNumber(portionNumber + 1)\r\n    }}>NEXT</button>}\r\n  </div>\r\n}\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport styles from \"./User.module.css\";\r\nimport userPhoto from \"../../assets/images/extra-large.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, follow, unfollow, followingInProgress}) => {\r\n    return <div>\r\n        <div><span>\r\n            <div><NavLink key={user.id} to={'/profile/' + user.id}><img className={styles.userPhoto} src={user.photos.small !== null ? user.photos.small : userPhoto} alt=''/></NavLink></div>\r\n        <div>\r\n          {user.followed\r\n              ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => {\r\n                            unfollow(user.id)\r\n                        }}>\r\n                  Unfollow</button>\r\n              : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => {\r\n                            follow(user.id)\r\n                        }}>\r\n                  Follow</button>}</div>\r\n      </span>\r\n            <span>\r\n        <span><div>{user.name}</div><div>{user.status}</div></span>\r\n      </span>\r\n        </div>\r\n    </div>;\r\n}\r\n\r\nexport default User;\r\n","import React from \"react\";\r\n// import styles from \"./User.module.css\";\r\n\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport User from \"./User\";\r\nimport {UserType} from '../../types/types';\r\n\r\ntype PropsType = {\r\n    currentPage: number,\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    onPageChanged: (page: number) => void,\r\n    users: Array<UserType>,\r\n    follow: (id: number) => void,\r\n    unfollow: (id: number) => void,\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nlet Users: React.FC<PropsType> = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, follow, unfollow, ...props}) => {\r\n\r\n    return <div>\r\n        <Pagination currentPage={currentPage}\r\n                    totalItemsCount={totalUsersCount}\r\n                    pageSize={pageSize}\r\n                    onPageChanged={onPageChanged}\r\n                    portionSize={10}/>\r\n        {users.map(user => <User key={user.id}\r\n                                 user={user}\r\n                                 follow={follow}\r\n                                 unfollow={unfollow}\r\n                                 followingInProgress={props.followingInProgress}/>)}\r\n    </div>;\r\n}\r\n\r\nexport default Users;\r\n","import {createSelector} from 'reselect';\r\nimport {AppStateType} from './redux-store';\r\n\r\nconst getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users;\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage;\r\n};\r\nexport const getFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n","import React from 'react';\nimport Users from './Users';\nimport {\n    follow,\n    requestUsers,\n    unfollow,\n} from '../../redux/users-reducer';\nimport {connect} from 'react-redux';\nimport Preloader from '../common/Proloader/Preloader';\nimport {compose} from 'redux';\nimport {\n    getPageSize,\n    getTotalUsersCount,\n    getCurrentPage,\n    getFetching,\n    getFollowingInProgress, getUsers\n} from '../../redux/usersSelectors';\nimport {UserType} from '../../types/types';\nimport {AppStateType} from '../../redux/redux-store';\n\ntype MapStatePropsType = {\n    currentPage: number,\n    pageSize: number,\n    isFetching: boolean,\n    totalUsersCount: number,\n    users: Array<UserType>,\n    followingInProgress: Array<number>\n}\n\ntype MapDispatchPropsType = {\n    getUsers: (currentPage: number, pageSize: number) => void\n    follow: (id: number) => void,\n    unfollow: (id: number) => void,\n}\n\ntype OwnPropsType = {\n    title: string,\n}\n\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType;\n\nclass UsersContainer extends React.Component<PropsType> {\n    componentDidMount() {\n        let {currentPage, pageSize} = this.props;\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        let {pageSize} = this.props;\n        this.props.getUsers(pageNumber, pageSize)\n    }\n\n    render() {\n        return <>\n            <h2>{this.props.title}</h2>\n            {this.props.isFetching ? <Preloader/> : null}\n            <Users totalUsersCount={this.props.totalUsersCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   users={this.props.users}\n                   follow={this.props.follow}\n                   unfollow={this.props.unfollow}\n                   followingInProgress={this.props.followingInProgress}\n            /></>\n    }\n}\n\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\nexport default compose(\n    connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>(\n      mapStateToProps, {\n        follow, unfollow, getUsers: requestUsers\n    })\n)(UsersContainer)\n","import React from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter, Redirect, Route, Switch, withRouter} from 'react-router-dom';\r\nimport NavBar from './components/NavBar/NavBar';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport Login from \"./components/Login/Login\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initialiseApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Proloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./hoc/withSuspence\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\n\r\nconst MessagesContainer = React.lazy(() => import('./components/Messages/MessagesContainer'));\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors = (reason, promise) => {\r\n        alert(reason)\r\n    }\r\n    componentDidMount() {\r\n        this.props.initialiseApp();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialised) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <NavBar/>\r\n                <section className=\"content\">\r\n                    <Switch>\r\n                        <Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\r\n                        <Redirect exact from=\"/\" to=\"/profile\" />\r\n\r\n                    <Route path=\"/messages\"\r\n                           render={withSuspense(MessagesContainer)}/>\r\n                    <Route path=\"/news\"\r\n                           render={() => <News/>}/>\r\n                    <Route path=\"/music\"\r\n                           render={() => <Music/>}/>\r\n                    <Route path=\"/users\"\r\n                           render={() => <UsersContainer title={\"Users\"} /> }/>\r\n                    <Route path=\"/settings\"\r\n                           render={() => <Settings/>}/>\r\n                    <Route path=\"/login\"\r\n                           render={() => <Login/>}/>\r\n                    <Route render={() => <div>404 PAGE NOT FOUND </div> } />\r\n                </Switch>\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialised: state.app.initialised\r\n});\r\n\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initialiseApp}))(App)\r\n\r\nconst MainApp = () => {\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default MainApp;\r\n","import React, {Suspense} from \"react\";\r\nimport Preloader from \"../components/common/Proloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader/>}><Component {...props}/></Suspense>\r\n    };\r\n}\r\n"," import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport MainApp from \"./App\";\n\nReactDOM.render(\n<MainApp />,document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1gAfF\",\"error\":\"FormControls_error__3IBC7\",\"formSummaryError\":\"FormControls_formSummaryError__1RvDh\"};","export const required = value => {\r\n    if(value)  return undefined\r\n    return 'field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength)  return `Max length is ${maxLength} symbos`\r\n    return undefined\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__14jut\",\"mainPhoto\":\"ProfileInfo_mainPhoto__15sKR\",\"contact\":\"ProfileInfo_contact__1Sebu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Pagination_paginator__39Den\",\"pageNumber\":\"Pagination_pageNumber__yD3Wx\",\"selectedPage\":\"Pagination_selectedPage__gxIKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__9yfSk\",\"logo\":\"Header_logo__2oBvN\",\"loginBlock\":\"Header_loginBlock__38Ne0\"};"],"sourceRoot":""}
{"version":3,"sources":["assets/images/extra-large.jpg","redux/messages-reducer.js","utils/objectHelpers.js","redux/users-reducer.js","components/Profile/MyPosts/Post/Post.module.css","api/api.js","components/NavBar/NavBar.module.css","components/common/FormsControls/FormsControls.jsx","reportWebVitals.js","components/NavBar/NavBar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/auth-reducer.js","components/Login/Login.jsx","components/Profile/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspence.jsx","App.js","index.js","components/common/FormsControls/FormControls.module.css","assets/images/loader2.gif","components/common/Proloader/Preloader.jsx","utils/validators/validators.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","messageBody","type","messagesReducer","state","action","body","updateObjectInArray","items","itemID","objPropName","newObjProps","map","user","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","requestUsers","page","dispatch","a","userAPI","getUsers","data","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","usersReducer","followed","filter","module","exports","instance","axios","baseURL","withCredentials","headers","get","then","response","delete","post","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","TextArea","props","restProps","Input","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","NavBar","style","navigation","to","item","activeClassName","active","News","Music","Settings","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","UserId","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","validate","required","component","placeholder","src","alt","formSummaryError","connect","auth","length","stopSubmit","_error","ProfileStatus","useState","editMode","setEditMode","setStatus","useEffect","onClick","onChange","e","currentTarget","value","autoFocus","onBlur","ProfileDataFormReduxForm","Object","keys","contacts","key","contact","ProfileData","isOwner","toEditMode","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contact","ProfileInfo","Preloader","description","photos","large","userPhoto","target","files","initialValues","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","like","getProfileInfo","profileReducer","postId","Post","maxLength","maxLengthCreator","NewReduxPost","MyPosts","postsArray","addPost","MyPostsContainer","profilePage","addPostActionCreator","Profile","ProfileContainer","this","match","params","authorisedUserId","history","push","refreshProfile","prevProps","prevState","snapshot","React","Component","compose","withRouter","file","getState","Promise","reject","Header","header","logo","loginBlock","HeaderContainer","INITIALISED_SUCCESS","initialised","appReducer","sidebarReducer","reducers","combineReducers","messagesPage","sidebar","usersPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","MessagesContainer","lazy","UsersContainer","App","initialiseApp","path","render","AppContainer","promise","all","MainApp","ReactDOM","document","getElementById","preloader","position"],"mappings":"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","file":"static/js/main.25ce7d60.chunk.js","sourcesContent":["export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4gIcSUNDX1BST0ZJTEUAAQEAAAIMbGNtcwIQAABtbnRyUkdCIFhZWiAH3AABABkAAwApADlhY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApkZXNjAAAA/AAAAF5jcHJ0AAABXAAAAAt3dHB0AAABaAAAABRia3B0AAABfAAAABRyWFlaAAABkAAAABRnWFlaAAABpAAAABRiWFlaAAABuAAAABRyVFJDAAABzAAAAEBnVFJDAAABzAAAAEBiVFJDAAABzAAAAEBkZXNjAAAAAAAAAANjMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0ZXh0AAAAAElYAABYWVogAAAAAAAA9tYAAQAAAADTLVhZWiAAAAAAAAADFgAAAzMAAAKkWFlaIAAAAAAAAG+iAAA49QAAA5BYWVogAAAAAAAAYpkAALeFAAAY2lhZWiAAAAAAAAAkoAAAD4QAALbPY3VydgAAAAAAAAAaAAAAywHJA2MFkghrC/YQPxVRGzQh8SmQMhg7kkYFUXdd7WtwegWJsZp8rGm/fdPD6TD////bAIQAAgMDAwQDBAUFBAYGBgYGCAgHBwgIDQkKCQoJDRMMDgwMDgwTERQRDxEUER4YFRUYHiMdHB0jKiUlKjUyNUVFXAECAwMDBAMEBQUEBgYGBgYICAcHCAgNCQoJCgkNEwwODAwODBMRFBEPERQRHhgVFRgeIx0cHSMqJSUqNTI1RUVc/8AAEQgAgACAAwEiAAIRAQMRAf/EAGwAAQACAwEBAQAAAAAAAAAAAAAGBwEEBQMCCRAAAgIBAQQIBgMAAAAAAAAAAAECAwUEERIxQSEjUVJhcYGxIjRCYnKRkqHRAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD9mAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFksrKblXTLZHg5Ln5eAEl1OT0lDact6Xdj0nBnn39NH7kQ0ATKGff1UfqR3tNk9Je0lLdl3ZdBV4AugECxuVlBxrultjwUny8/AnoAAAAAAAAAAARrM6p1UKuL2Ss9ivDv5mxy10lyhFI4AAAAAAALDw2qdtDrk9sq/Yrw7+GscddFcpxaAskAAAAAAAAAAVdlPn7/ADXscg7WWi1kLvHY/wCjigAAAAAA6+L+fo837HIO1iYt5Cnw2v8AoCzgAAAAAAAAABCc7Q96u5fjL3RDS4bqYXVThNbVJFWavS26a1wn6Pk0BogAAAABMsFQ96y5/jH3ZG9JpbdTaoQ9XySLTpphTVCEFsUUB7gAAAAAAAAGjqNZpqF1liT7OLA3jWv09N8NyyO1ETvzz4VVesv8RwrMnrp8bmvCPQBoXQULrIrhGTX6PAy22229rZgAe9MFO6uL4Skl+zwMptNNPY0Bb1GnpohuVx2I2Sra8nrocLm/CXSd2jPPhbV6x/xgTUGjp9Zpr11dib7ODN4AAAB8SlGMW20kuLZ9lb5PIPUWOEH1cX/J9oG9rczOTcKPhXf5vyIk222222+ZgAAAAAAAAAAABlNppptNcyW6LMzi1C/4l3+a8yIgC5YyjKKaaafBo+yt8ZkHp7FCb6uT/i+0scDgZjUOrSOKfTY9305lbkvz76yhfbJkQAAAAAAAAAAAAAAAAAFkYfUO3SKLfTW9305FbkvwD6y9fbFgf//Z\"","const SEND_MESSAGE = 'SEND-MESSAGE';\nlet initialState = {\n  dialogs: [\n    { id: 1, name: 'Bob' },\n    { id: 2, name: 'Ben' },\n    { id: 3, name: 'John' },\n    { id: 4, name: 'Miranda' },\n    { id: 5, name: 'Steven' },\n  ],\n  messages: [\n    { id: 1, message: 'hi' },\n    { id: 2, message: 'ku' },\n    { id: 3, message: 'bye' },\n    { id: 4, message: 'good morning' },\n    { id: 5, message: 'tomorrow' },\n  ],\n};\n\nconst messagesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      let body = action.messageBody\n      return {\n        ...state,\n        messages: [...state.messages, { id: 6, message: body }],\n      };\n    default:\n      return state;\n  }\n};\n\nexport const sendMessageCreator = (messageBody) => ({ type: SEND_MESSAGE , messageBody});\n\nexport default messagesReducer;\n","export const updateObjectInArray = (items, itemID, objPropName, newObjProps) => {\r\n    return items.map(user => {\r\n        if (user[objPropName] === itemID) {\r\n            return {...user, ...newObjProps}\r\n        }\r\n        return user\r\n    })\r\n}\r\n","import {userAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objectHelpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,\"id\", {followed: true})\r\n                }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,\"id\", {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count};\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\n\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const toggleIsFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    let data = await userAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n    let data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = userAPI.follow.bind(userId)\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, followSuccess)\r\n    }\r\n}\r\n\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = userAPI.unfollow.bind(userId)\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2DL4e\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"80a40969-c576-430a-8d09-c5073671dcfd\"}\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`).then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`, {}).then(response => response.data)\r\n    },\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`).then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put('profile/photo', formData, {headers: {'Content-Type': 'multipart/form-data'}})\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`).then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null ) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`).then(response => response.data);\r\n    },\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    },\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"NavBar_navigation__RKAy2\",\"item\":\"NavBar_item__RHjSW\",\"active\":\"NavBar_active__1y2AN\"};","import React from 'react';\r\nimport styles from './FormControls.module.css'\r\n\r\nconst FormControl = ({input,meta: {touched, error}, children, ...props}) =>{\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error: \"\")} >\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span className={styles.error}>{error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n    const {input,meta,...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input}{...restProps} /></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input,meta,...restProps} = props;\r\n    return <FormControl {...props}><input {...input}{...restProps} /></FormControl>\r\n};\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport style from './NavBar.module.css';\n\nconst NavBar = () => {\n    return (\n        <nav className={style.navigation}>\n            <div>\n                <NavLink to=\"/profile\" className={style.item} activeClassName={style.active}>\n                    Profile\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/messages\" className={style.item} activeClassName={style.active}>\n                    Messages\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/news\" className={style.item} activeClassName={style.active}>\n                    News\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/music\" className={style.item} activeClassName={style.active}>\n                    Music\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/users\" className={style.item} activeClassName={style.active}>\n                    Users\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/settings\" className={style.item} activeClassName={style.active}>\n                    Settings\n                </NavLink>\n            </div>\n        </nav>\n    );\n}\n;\n\nexport default NavBar;\n","import React from 'react';\n// import styles from './Settings.module.css';\n\nconst News = () => {\n  return <section>News</section>;\n};\n\nexport default News;\n","import React from 'react';\n// import styles from './Settings.module.css';\n\nconst Music = () => {\n  return <section>Music</section>;\n};\n\nexport default Music;\n","import React from 'react';\n// import styles from './Settings.module.css';\n\nconst Settings = () => {\n  return <section>Settings</section>;\n};\n\nexport default Settings;\n","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'network/auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET-CAPTCHA-URL-SUCCESS';\r\n\r\nconst initialState = {\r\n    UserId: null,\r\n    login: null,\r\n    email: null,\r\n    messages: [],\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let data = await authAPI.me();\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    }else {\r\n        if(response.data.resultCode === 10){\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let error = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: error}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n        if (data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n}\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from '../common/FormsControls/FormControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field validate={[required]} component={Input} placeholder={\"Email\"} name={\"email\"}/>\r\n            </div>\r\n            <div>\r\n                <Field validate={[required]} component={Input} placeholder={\"Password\"} name={\"password\"} type={\"password\"} />\r\n            </div>\r\n            <div>\r\n                <Field component={\"input\"} name={\"rememberMe\"} type={\"checkbox\"}/> remember me\r\n            </div>\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt=\"\"/>}\r\n            {captchaUrl && <Field component={Input} placeholder={\"Enter captcha\"} name={\"captcha\"}/>}\r\n            {error && <div className={styles.formSummaryError}>{error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import React, {useState, useEffect} from 'react';\r\n\r\nconst ProfileStatus = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    },[props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onClick={activateEditMode}>{props.status || '-----'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} value={status} autoFocus={true} onBlur={deactivateEditMode}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileStatus;\r\n","import React from \"react\";\r\nimport style from './ProfileInfo.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input, TextArea} from \"../../common/FormsControls/FormsControls\";\r\nimport styles from \"../../common/FormsControls/FormControls.module.css\";\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <button>Save </button>\r\n        </div>\r\n        {error && <div className={styles.formSummaryError}>{error}</div>}\r\n        <div><strong>Имя: {<Field  component={Input} placeholder={\"Имя\"} name={\"fullName\"}/>}</strong></div>\r\n        <div><strong>Про меня: {<Field  component={Input} placeholder={\"Про меня\"} name={\"aboutMe\"}/>}</strong></div>\r\n        <div><strong>Ищу работу: {<Field  component={Input} name={\"lookingForAJob\"} type={\"checkbox\"} />}</strong></div>\r\n        <div><strong>Профессиональные навыки {<Field  component={TextArea} placeholder={\"Профессиональные навыки\"} name={\"lookingForAJobDescription\"}/>}</strong></div>\r\n        <div>\r\n            <div><strong>Котакты:</strong></div>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={style.contact}>\r\n                    <strong>{key}: {<Field  component={Input} placeholder={key} name={\"contacts.\" + key}/>}</strong>\r\n                </div>\r\n            })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataFormReduxForm;\r\n\r\n","import React, {useState} from 'react';\r\nimport style from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/Proloader/Preloader\";\r\nimport ProfileStatus from \"../ProfileStatus\";\r\nimport userPhoto from \"../../../assets/images/extra-large.jpg\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = ({savePhoto, saveProfile, profile, status, updateStatus, isOwner}) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(() => {setEditMode(false)})\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={style.description}>\r\n                <img className=\"mainPhoto\"\r\n                     src={profile.photos.large || userPhoto}\r\n                     alt=''/>\r\n                <div>{isOwner && <input type={\"file\"} onChange={onMainPhotoSelected}/>}</div>\r\n                <ProfileStatus status={status} updateStatus={updateStatus}/>\r\n                {editMode ? <ProfileDataForm initialValues={profile} onSubmit={onSubmit} profile={profile}/>\r\n                    : <ProfileData toEditMode={() => {\r\n                        setEditMode(true)\r\n                    }} profile={profile} isOwner={isOwner}/>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ProfileData = ({profile, isOwner, toEditMode}) => {\r\n    return <div>\r\n        {isOwner && <div>\r\n            <button onClick={toEditMode}>Edit</button>\r\n        </div>}\r\n        <p><strong>{profile.fullName}</strong></p>\r\n        <p><strong>Про меня: </strong>{profile.aboutMe}</p>\r\n        <p><strong>Ищу работу: </strong>{profile.lookingForAJob ? \"Да\" : \"Нет\"}</p>\r\n        {profile.lookingForAJob &&\r\n        <p><strong>Какую работу ищу? </strong>{profile.lookingForAJobDescription}</p>\r\n        }\r\n        <div>\r\n            <div><strong>Котакты:</strong></div>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                if (profile.contacts[key]) {\r\n                    return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n                }\r\n                return null\r\n            })}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <p className={style.contact}><strong>{contactTitle}: </strong>{contactValue}</p>\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST ='DELETE-POST';\r\nconst SAVE_PHOTO_SUCCESS ='SAVE-PHOTO-SUCCESS';\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi', like: 24},\r\n        {id: 2, message: 'How are you?', like: 12},\r\n        {id: 3, message: 'Whats up?', like: 456},\r\n        {id: 4, message: 'Bye', like: 78},\r\n        {id: 5, message: 'Good', like: 22},\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 6, message: action.post,like: 0,}],\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId )\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (post) => ({type: ADD_POST, post});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getProfileInfo = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId)\r\n        dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    const response = await profileAPI.saveProfile(profile)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getProfileInfo(userId))\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n","import React from 'react';\nimport style from './Post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div>\n      <div className={style.item}>\n        <img src=\"https://dadabazar.online/upload/users/user-avatar.png\" alt=\"ava\" />\n        {props.message}\n        <div>\n          <span>{props.like}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from 'react';\nimport Post from './Post/Post';\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\nimport {TextArea} from \"../../common/FormsControls/FormsControls\";\n\nconst maxLength = maxLengthCreator(10)\n\nconst NewPost = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field validate={[required,maxLength]} placeholder={'Enter your post'}\n                       component={TextArea} name={\"post\"}/>\n            </div>\n            <div>\n                <button>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nconst NewReduxPost = reduxForm({form: 'post'})(NewPost)\n\nconst MyPosts = (props) => {\n    const onAddPost = (formData) => {\n        props.addPost(formData.post)\n    }\n    const postsArray = props.posts.map((post) => <Post key={post.id} message={post.message} like={post.like}/>);\n    return (\n        <div>\n            <h2>My Posts</h2>\n            <div>{postsArray}</div>\n            <NewReduxPost onSubmit={onAddPost}/>\n        </div>\n    );\n};\n\nexport default MyPosts;\n","import {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n    };\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (post) => {\n            dispatch(addPostActionCreator(post))\n        },\n    };\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer;\n","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n// import style from './Profile.module.css';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n                         isOwner={props.isOwner}\r\n                         savePhoto={props.savePhoto}\r\n                         saveProfile={props.saveProfile}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfileInfo, getStatus, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile(){\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorisedUserId\r\n            if(!userId){\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getProfileInfo(userId);\r\n        this.props.getStatus(userId);\r\n}\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.match.params.userId !== prevProps.match.params.userId){\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {\r\n    getProfileInfo,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    saveProfile,\r\n}))(ProfileContainer);\r\n\r\n","import React from 'react';\nimport styles from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = ({isAuth, login, logout}) => {\n    return <header className={styles.header}>\n        <img\n            className={styles.logo}\n            src=\"https://placeholder.com/wp-content/uploads/2018/10/placeholder.com-logo1.png\"\n            alt=\"logo\"\n        />\n        <div className={styles.loginBlock}>{isAuth\n            ? <div>{login} <button onClick={logout}>logout</button></div>\n            : <NavLink to={'/login'}>LOGIN</NavLink>}\n        </div>\n    </header>\n};\n\nexport default Header;\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return (<Header {...this.props} />)\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALISED_SUCCESS = 'INITIALISED-SUCCESS ';\r\nconst initialState = {\r\n    initialised: false,\r\n\r\n};\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALISED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialised: true,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initialisedSuccess = () => ({type: INITIALISED_SUCCESS});\r\n\r\nexport const initialiseApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initialisedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;\r\n","const initialState = {};\nconst sidebarReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default sidebarReducer;\n","import {applyMiddleware, combineReducers, createStore, compose} from 'redux';\nimport profileReducer from './profile-reducer';\nimport messagesReducer from './messages-reducer';\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    messagesPage: messagesReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducers,composeEnhancers(applyMiddleware(thunkMiddleware)\n));\n\nexport default store;\n","import React, {Suspense} from \"react\";\r\nimport Preloader from \"../components/common/Proloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader/>}><Component {...props}/></Suspense>\r\n    };\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {HashRouter, Route, withRouter} from 'react-router-dom';\r\nimport NavBar from './components/NavBar/NavBar';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport Login from \"./components/Login/Login\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initialiseApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Proloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./hoc/withSuspence\";\r\n\r\nconst MessagesContainer = React.lazy(() => import('./components/Messages/MessagesContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initialiseApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialised) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <NavBar/>\r\n                <section className=\"content\">\r\n                    <Route path=\"/profile/:userId?\"\r\n                           render={() => <ProfileContainer/>}/>\r\n                    <Route path=\"/messages\"\r\n                           render={withSuspense(MessagesContainer)}/>\r\n                    <Route path=\"/news\"\r\n                           render={() => <News/>}/>\r\n                    <Route path=\"/music\"\r\n                           render={() => <Music/>}/>\r\n                    <Route path=\"/users\"\r\n                           render={withSuspense(UsersContainer)}/>\r\n                    <Route path=\"/settings\"\r\n                           render={() => <Settings/>}/>\r\n                    <Route path=\"/login\"\r\n                           render={() => <Login/>}/>\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialised: state.app.initialised\r\n});\r\n\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initialiseApp}))(App)\r\n\r\nconst MainApp = () => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default MainApp;\r\n"," import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport MainApp from \"./App\";\n\nReactDOM.render(\n<MainApp />,document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1gAfF\",\"error\":\"FormControls_error__3IBC7\",\"formSummaryError\":\"FormControls_formSummaryError__1RvDh\"};","export default __webpack_public_path__ + \"static/media/loader2.83cbdda8.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/loader2.gif\";\r\n\r\nlet Preloader = () => {\r\n    return <div>\r\n        {<img src={preloader} style={ { position:\"absolute\" } } alt=\"\"/>}\r\n    </div>\r\n}\r\n\r\nexport default Preloader;\r\n","export const required = value => {\r\n    if(value)  return undefined\r\n    return 'field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength)  return `Max length is ${maxLength} symbos`\r\n    return undefined\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__14jut\",\"mainPhoto\":\"ProfileInfo_mainPhoto__15sKR\",\"contact\":\"ProfileInfo_contact__1Sebu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__9yfSk\",\"logo\":\"Header_logo__2oBvN\",\"loginBlock\":\"Header_loginBlock__38Ne0\"};"],"sourceRoot":""}